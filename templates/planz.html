<!DOCTYPE html>
<html>
<head>
    <title>Create a Goal</title>
    <link rel="stylesheet" href="/static/planz.css">
</head>
<body>
	<header>
		<nav>
			<ul style="justify-content: flex-end;">
			  <li><a href="/home">Home</a></li>
			  <li><a href="/leadz">LeadZ</a></li>
			  <li><a href="/planz">PlanZ</a></li>
			  <li><a href="/frienz">FrienZ</a></li>
			  <li><a href="/about">About</a></li>
			</ul>
		  </nav>
	</header>
    <h1>Create a Goal</h1>


    <form>
        <label for="total_cost">Total Cost:</label>
        <input type="number" id="total_cost" name="total_cost"><br><br>

        <label for="friends">Add Friends:</label>
        <input type="text" id="friends" name="friends"><br><br>

        <label for="time_budget">Time Budget:</label>
        <input type="number" id="time_budget" name="time_budget"><br><br>

        <label for="num_payments">Number of Payments:</label>
        <input type="number" id="num_payments" name="num_payments"><br><br>

        <input type="button" value="Calculate" onclick="calculatePayments()">


    <div id="payment_plan"></div>
    <h1>Account Information</h1>

    
        <label for="account_nickname">Account Nickname:</label>
        <input type="text" id="account_nickname" name="account_nickname"><br><br>
    
        <label for="account_balance">Account Balance:</label>
        <input type="number" id="account_balance" name="account_balance"><br><br>
    
        <input type="submit" value="Update Account">
    
    
    <h1>Card Information</h1>

    
        <label for="card_number">Card Number:</label>
        <input type="text" id="card_number" name="card_number"><br><br>

        <label for="expiration_date">Expiration Date:</label>
        <input type="text" id="expiration_date" name="expiration_date"><br><br>

        <label for="cvv">CVV:</label>
        <input type="text" id="cvv" name="cvv"><br><br>

        <input type="submit" value="Submit Payment">
    </form>

    <script>
        function calculatePayments() {
            // Get input values
            var totalCost = document.getElementById("total_cost").value;
            var timeBudget = document.getElementById("time_budget").value;
            var numPayments = document.getElementById("num_payments").value;

            // Calculate payment amount
            var paymentAmount = totalCost / numPayments;

            // Create payment plan table
            var table = "<table><tr><th>Payment #</th><th>Amount</th></tr>";
            for (var i = 1; i <= numPayments; i++) {
                var amount = paymentAmount.toFixed(2);
                table += "<tr><td>" + i + "</td><td>$" + amount + "</td></tr>";
            }
            table += "</table>"

            // Display payment plan table
            document.getElementById("payment_plan").innerHTML = table;
        }
    </script>
</body>
</html>
<body>
    
  
    <script>
      $(document).ready(function() {
        $("form").submit(function(event) {
          // Prevent form from submitting normally
          event.preventDefault();
  
          // Get form values
          var goal = $("#goal").val();
          var description = $("#description").val();
          var friends = $("#friends").val();
          var timeBudget = $("#time_budget").val();
          var totalCost = $("#total_cost").val();
          var numPayments = $("#num_payments").val();
          var cardNumber = $("#card_number").val();
          var cardExpiry = $("#card_expiry").val();
          var cardCVV = $("#card_cvv").val();
  
          // Create request data
          var requestData = {
            "goal": goal,
            "description": description,
            "friends": friends,
            "time_budget": timeBudget,
            "total_cost": totalCost,
            "num_payments": numPayments,
            "card_number": cardNumber,
            "card_expiry": cardExpiry,
            "card_cvv": cardCVV
          };
  
          // Send AJAX request to API
          $.ajax({
            url: "http://localhost:5000/api/goal",
            type: "POST",
            data: JSON.stringify(requestData),
            contentType: "application/json; charset=utf-8",
            dataType: "json",
            success: function(response) {
              // Handle successful response
              console.log(response);
            },
            error: function(xhr, status, error) {
              // Handle error response
              console.log(xhr.responseText);
            }
          });
        });
      });
    </script>
  </body>
  <!DOCTYPE html>
<html>
<head>
    <title>User Balance</title>
    <link rel="stylesheet" href="webgoal.css">
</head>
<body>
    <h1>User Balance</h1>

    <p id="balance"></p>

    <script>
        fetch('http://api.nessieisreal.com/enterprise/accounts?key=3ae6e71b194eff8c8c1cb81093705a6d')
            .then(response => response.json())
            .then(data => {
                document.getElementById('balance').textContent = 'Balance: $' + data.balance;
            })
            .catch(error => console.error(error));
    </script>
</body>
</html>